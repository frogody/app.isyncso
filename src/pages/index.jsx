import Layout from "./Layout.jsx";

import AIAssistant from "./AIAssistant";

import AISystemInventory from "./AISystemInventory";

import AuthCallback from "./AuthCallback";
import DesktopAuth from "./DesktopAuth";

import Login from "./Login";

import Actions from "./Actions";

import ActivityTimeline from "./ActivityTimeline";

import AdminDashboard from "./AdminDashboard";

import AdminMigration from "./AdminMigration";

import Analytics from "./Analytics";

import AnalyticsDashboard from "./AnalyticsDashboard";

import Assignments from "./Assignments";

import BackendSetup from "./BackendSetup";

import BackendStatus from "./BackendStatus";

import CRMContacts from "./CRMContacts";

import CRMCompanyProfile from "./CRMCompanyProfile";

import CRMContactProfile from "./CRMContactProfile";

import Certificates from "./Certificates";

import CompanyDashboard from "./CompanyDashboard";

import CompanyInvite from "./CompanyInvite";

import CompanyProfile from "./CompanyProfile";

import ComplianceCenter from "./ComplianceCenter";

import ComplianceRoadmap from "./ComplianceRoadmap";

import ComponentShowcase from "./ComponentShowcase";

import ComposioIntegrations from "./ComposioIntegrations";

import Contacts from "./Contacts";

import CourseDetail from "./CourseDetail";

import CourseUpgrader from "./CourseUpgrader";

import Courses from "./Courses";

import Dashboard from "./Dashboard";

import Deals from "./Deals";

import DesktopActivity from "./DesktopActivity";

import DailyJournal from "./DailyJournal";

import DocumentGenerator from "./DocumentGenerator";

import DownloadApp from "./DownloadApp";

import Glossary from "./Glossary";

import Growth from "./Growth";

import GrowthAssistant from "./GrowthAssistant";

import GrowthCampaigns from "./GrowthCampaigns";

import GrowthPipeline from "./GrowthPipeline";

import GrowthProspects from "./GrowthProspects";

import FinanceProposals from "./FinanceProposals";

import FinanceProposalBuilder from "./FinanceProposalBuilder";

import GrowthResearch from "./GrowthResearch";

import GrowthSignals from "./GrowthSignals";

import GrowthTemplates from "./GrowthTemplates";

import GrowthNestsMarketplace from "./growth/GrowthNestsMarketplace";

import GrowthEnrich from "./growth/GrowthEnrich";

import GrowthDashboard from "./growth/GrowthDashboard";

import GrowthCampaignWizard from "./growth/GrowthCampaignWizard";

import GrowthNestRecommendations from "./growth/GrowthNestRecommendations";

import GrowthWorkspaceSetup from "./growth/GrowthWorkspaceSetup";

import GrowthResearchWorkspace from "./growth/GrowthResearchWorkspace";

import GrowthOutreachBuilder from "./growth/GrowthOutreachBuilder";

import GrowthCustomerSignals from "./growth/GrowthCustomerSignals";

import Home from "./Home";

import Inbox from "./Inbox";

import Insights from "./Insights";

import Leaderboard from "./Leaderboard";

import Leads from "./Leads";

import Learn from "./Learn";

import LearnAITools from "./LearnAITools";

import LearnAssistant from "./LearnAssistant";

import LearnDashboard from "./LearnDashboard";

import LessonViewer from "./LessonViewer";

// Marketplace pages
import NestsMarketplace from "./marketplace/NestsMarketplace";
import NestDetail from "./marketplace/NestDetail";
import PurchasedNests from "./marketplace/PurchasedNests";

import ManageCourses from "./ManageCourses";

import ManagerDashboard from "./ManagerDashboard";

import Onboarding from "./Onboarding";

import Projects from "./Projects";

import RecommendationsFeed from "./RecommendationsFeed";

import RiskAssessment from "./RiskAssessment";

import Sentinel from "./Sentinel";

import SentinelDashboard from "./SentinelDashboard";

import Sequences from "./Sequences";

import Settings from "./Settings";

import ShareView from "./ShareView";

import SkillFrameworks from "./SkillFrameworks";

import SkillMap from "./SkillMap";

import SkillsOverview from "./SkillsOverview";

import StudentDashboard from "./StudentDashboard";

import Support from "./Support";

import SystemWorkflow from "./SystemWorkflow";

import Tasks from "./Tasks";

import Templates from "./Templates";

import UserAnalytics from "./UserAnalytics";

import VerifyCertificate from "./VerifyCertificate";

import VisionTest from "./VisionTest";

import WorkflowEditor from "./WorkflowEditor";

import MCPIntegrations from "./MCPIntegrations";

import OAuthCallback from "./OAuthCallback";

import Finance from "./Finance";

import FinanceOverview from "./FinanceOverview";

import FinanceDashboard from "./FinanceDashboard";

import FinanceInvoices from "./FinanceInvoices";

import FinanceExpenses from "./FinanceExpenses";

import FinanceSubscriptions from "./FinanceSubscriptions";
import FinanceExpensesConsolidated from "./FinanceExpensesConsolidated";

import FinanceAccounts from "./FinanceAccounts";

import FinanceJournalEntries from "./FinanceJournalEntries";

import FinanceGeneralLedger from "./FinanceGeneralLedger";
import FinanceLedger from "./FinanceLedger";

import FinanceVendors from "./FinanceVendors";

import FinanceBills from "./FinanceBills";

import FinanceBillPayments from "./FinanceBillPayments";
import FinancePayables from "./FinancePayables";

import FinanceReportPL from "./FinanceReportPL";

import FinanceReportBS from "./FinanceReportBS";

import FinanceReportTB from "./FinanceReportTB";

import FinanceReportAging from "./FinanceReportAging";
import FinanceReports from "./FinanceReports";

import Raise from "./Raise";

import RaiseInvestors from "./RaiseInvestors";

import RaisePitchDecks from "./RaisePitchDecks";

import RaiseDataRoom from "./RaiseDataRoom";

import RaiseCampaigns from "./RaiseCampaigns";

import RaiseEnrich from "./RaiseEnrich";

import TeamManagement from "./TeamManagement";

import AgentDetail from "./AgentDetail";

import Products from "./Products";

import ProductsDigital from "./ProductsDigital";

import ProductsPhysical from "./ProductsPhysical";

import ProductDetail from "./ProductDetail";

import Create from "./Create";

import CreateBranding from "./CreateBranding";

import CreateImages from "./CreateImages";

import CreateVideos from "./CreateVideos";

import CreateLibrary from "./CreateLibrary";

import InventoryReceiving from "./InventoryReceiving";

import InventoryShipping from "./InventoryShipping";

import InventoryExpenses from "./InventoryExpenses";
import StockPurchases from "./StockPurchases";

import SyncAgent from "./SyncAgent";

import InventoryImport from "./InventoryImport";

import ContactsImport from "./ContactsImport";

import Integrations from "./Integrations";

import TalentDashboard from "./TalentDashboard";

import TalentDeals from "./TalentDeals";

import TalentCandidates from "./TalentCandidates";

import TalentCandidateProfile from "./TalentCandidateProfile";

import TalentCampaigns from "./TalentCampaigns";

import TalentCampaignDetail from "./TalentCampaignDetail";

import TalentProjects from "./TalentProjects";

import TalentAnalytics from "./TalentAnalytics";

import TalentClients from "./TalentClients";

import TalentNests from "./TalentNests";

import TalentNestDetail from "./TalentNestDetail";

import TalentSMSOutreach from "./TalentSMSOutreach";

// Admin Panel Pages
import AdminLayout from "@/components/admin/AdminLayout";
import PlatformAdminDashboard from "./admin/AdminDashboard";
import PlatformAdminSettings from "./admin/AdminSettings";
import PlatformAdminFeatureFlags from "./admin/AdminFeatureFlags";
import PlatformAdminAuditLogs from "./admin/AdminAuditLogs";
import PlatformAdminUsers from "./admin/AdminUsers";
import PlatformAdminOrganizations from "./admin/AdminOrganizations";
import PlatformAdminMarketplace from "./admin/AdminMarketplace";
import PlatformAdminNests from "./admin/AdminNests";
import PlatformAdminApps from "./admin/AdminApps";
import PlatformAdminAnalytics from "./admin/AdminAnalytics";
import PlatformAdminSystem from "./admin/AdminSystem";
import PlatformAdminIntegrations from "./admin/AdminIntegrations";
import PlatformAdminBilling from "./admin/AdminBilling";
import PlatformAdminContent from "./admin/AdminContent";
import PlatformAdminSupport from "./admin/AdminSupport";
import PlatformAdminAI from "./admin/AdminAI";
import PlatformAdminCredits from "./admin/AdminCredits";
import PlatformAdminGrowthNests from "./admin/AdminGrowthNests";

// Providers needed for admin routes (since they don't use main Layout)
import { UserProvider } from "@/components/context/UserContext";
import { PermissionProvider } from "@/components/context/PermissionContext";

// Client Portal imports
import ClientProvider from "@/components/portal/ClientProvider";
import ClientLayout from "@/components/portal/ClientLayout";
import ClientLogin from "./portal/ClientLogin";
import ClientAuthCallback from "./portal/ClientAuthCallback";
import ClientDashboard from "./portal/ClientDashboard";
import ClientProjectDetail from "./portal/ClientProjectDetail";
import ClientProjects from "./portal/ClientProjects";
import ClientApprovals from "./portal/ClientApprovals";
import ClientActivity from "./portal/ClientActivity";

import { BrowserRouter as Router, Route, Routes, useLocation, Navigate } from 'react-router-dom';

const PAGES = {

    AIAssistant: AIAssistant,

    Sync: AIAssistant,

    AISystemInventory: AISystemInventory,

    AuthCallback: AuthCallback,

    Login: Login,
    
    Actions: Actions,

    ActivityTimeline: ActivityTimeline,
    
    AdminDashboard: AdminDashboard,
    
    AdminMigration: AdminMigration,
    
    Analytics: Analytics,
    
    AnalyticsDashboard: AnalyticsDashboard,
    
    Assignments: Assignments,
    
    BackendSetup: BackendSetup,
    
    BackendStatus: BackendStatus,
    
    CRMContacts: CRMContacts,

    CRMCompanyProfile: CRMCompanyProfile,

    CRMContactProfile: CRMContactProfile,

    Certificates: Certificates,
    
    CompanyDashboard: CompanyDashboard,
    
    CompanyInvite: CompanyInvite,
    
    CompanyProfile: CompanyProfile,
    
    ComplianceCenter: ComplianceCenter,
    
    ComplianceRoadmap: ComplianceRoadmap,
    
    ComponentShowcase: ComponentShowcase,

    ComposioIntegrations: ComposioIntegrations,

    Contacts: Contacts,
    
    CourseDetail: CourseDetail,
    
    CourseUpgrader: CourseUpgrader,
    
    Courses: Courses,
    
    Dashboard: Dashboard,
    
    Deals: Deals,

    DailyJournal: DailyJournal,

    DocumentGenerator: DocumentGenerator,
    
    DownloadApp: DownloadApp,
    
    Glossary: Glossary,
    
    Growth: Growth,
    
    GrowthAssistant: GrowthAssistant,
    
    GrowthCampaigns: GrowthCampaigns,
    
    GrowthPipeline: GrowthPipeline,
    
    GrowthProspects: GrowthProspects,

    FinanceProposals: FinanceProposals,

    FinanceProposalBuilder: FinanceProposalBuilder,

    GrowthResearch: GrowthResearch,
    
    GrowthSignals: GrowthSignals,
    
    GrowthTemplates: GrowthTemplates,

    GrowthNestsMarketplace: GrowthNestsMarketplace,

    GrowthEnrich: GrowthEnrich,

    GrowthDashboard: GrowthDashboard,

    GrowthCampaignWizard: GrowthCampaignWizard,

    GrowthNestRecommendations: GrowthNestRecommendations,

    GrowthWorkspaceSetup: GrowthWorkspaceSetup,

    GrowthResearchWorkspace: GrowthResearchWorkspace,

    GrowthOutreachBuilder: GrowthOutreachBuilder,

    GrowthCustomerSignals: GrowthCustomerSignals,

    Home: Home,
    
    Inbox: Inbox,
    
    Insights: Insights,
    
    Leaderboard: Leaderboard,
    
    Leads: Leads,
    
    Learn: Learn,
    
    LearnAITools: LearnAITools,

    LearnAssistant: LearnAssistant,

    LearnDashboard: LearnDashboard,
    
    LessonViewer: LessonViewer,
    
    ManageCourses: ManageCourses,
    
    ManagerDashboard: ManagerDashboard,
    
    Onboarding: Onboarding,
    
    Projects: Projects,
    
    RecommendationsFeed: RecommendationsFeed,
    
    RiskAssessment: RiskAssessment,
    
    Sentinel: Sentinel,
    
    SentinelDashboard: SentinelDashboard,
    
    Sequences: Sequences,
    
    Settings: Settings,
    
    ShareView: ShareView,
    
    SkillFrameworks: SkillFrameworks,
    
    SkillMap: SkillMap,
    
    SkillsOverview: SkillsOverview,
    
    StudentDashboard: StudentDashboard,
    
    Support: Support,
    
    SystemWorkflow: SystemWorkflow,
    
    Tasks: Tasks,
    
    Templates: Templates,
    
    UserAnalytics: UserAnalytics,
    
    VerifyCertificate: VerifyCertificate,
    
    VisionTest: VisionTest,
    
    WorkflowEditor: WorkflowEditor,
    
    MCPIntegrations: MCPIntegrations,
    
    OAuthCallback: OAuthCallback,

    Finance: Finance,

    FinanceOverview: FinanceOverview,

    FinanceDashboard: FinanceDashboard,

    FinanceInvoices: FinanceInvoices,

    FinanceExpenses: FinanceExpenses,
    FinanceExpensesConsolidated: FinanceExpensesConsolidated,

    FinanceSubscriptions: FinanceSubscriptions,

    FinanceAccounts: FinanceAccounts,

    FinanceJournalEntries: FinanceJournalEntries,

    FinanceGeneralLedger: FinanceGeneralLedger,
    FinanceLedger: FinanceLedger,

    FinanceVendors: FinanceVendors,

    FinanceBills: FinanceBills,

    FinanceBillPayments: FinanceBillPayments,
    FinancePayables: FinancePayables,

    FinanceReportPL: FinanceReportPL,

    FinanceReportBS: FinanceReportBS,

    FinanceReportTB: FinanceReportTB,

    FinanceReportAging: FinanceReportAging,
    FinanceReports: FinanceReports,

    Raise: Raise,

    RaiseInvestors: RaiseInvestors,

    RaisePitchDecks: RaisePitchDecks,

    RaiseDataRoom: RaiseDataRoom,

    RaiseCampaigns: RaiseCampaigns,

    RaiseEnrich: RaiseEnrich,

    TeamManagement: TeamManagement,

    AgentDetail: AgentDetail,

    Products: Products,

    ProductsDigital: ProductsDigital,

    ProductsPhysical: ProductsPhysical,

    ProductDetail: ProductDetail,

    Create: Create,

    CreateBranding: CreateBranding,

    CreateImages: CreateImages,

    CreateVideos: CreateVideos,

    CreateLibrary: CreateLibrary,

    InventoryReceiving: InventoryReceiving,

    InventoryShipping: InventoryShipping,

    InventoryExpenses: InventoryExpenses,

    StockPurchases: StockPurchases,

    SyncAgent: SyncAgent,

    InventoryImport: InventoryImport,

    ContactsImport: ContactsImport,

    Integrations: Integrations,

    TalentDashboard: TalentDashboard,

    TalentDeals: TalentDeals,

    TalentCandidates: TalentCandidates,

    TalentCandidateProfile: TalentCandidateProfile,

    TalentCampaigns: TalentCampaigns,

    TalentCampaignDetail: TalentCampaignDetail,

    TalentProjects: TalentProjects,

    TalentAnalytics: TalentAnalytics,

    TalentClients: TalentClients,

    TalentNests: TalentNests,

    TalentNestDetail: TalentNestDetail,

    TalentSMSOutreach: TalentSMSOutreach,

}

function _getCurrentPage(url) {
    if (url.endsWith('/')) {
        url = url.slice(0, -1);
    }
    let urlLastPart = url.split('/').pop();
    if (urlLastPart.includes('?')) {
        urlLastPart = urlLastPart.split('?')[0];
    }

    const pageName = Object.keys(PAGES).find(page => page.toLowerCase() === urlLastPart.toLowerCase());
    return pageName || Object.keys(PAGES)[0];
}

// Create a wrapper component that uses useLocation inside the Router context
function PagesContent() {
    const location = useLocation();
    const currentPage = _getCurrentPage(location.pathname);
    const isAdminRoute = location.pathname.startsWith('/admin');
    const isShareRoute = location.pathname.startsWith('/share');
    const isPortalRoute = location.pathname.startsWith('/portal');

    // Share routes render without the main Layout (no sidebar for public views)
    if (isShareRoute) {
        return (
            <Routes>
                <Route path="/share/:type/:shareId" element={<ShareView />} />
            </Routes>
        );
    }

    // Client Portal routes - uses ClientProvider and ClientLayout
    // URL Structure: /portal/:org/... where :org is the organization slug
    // This makes it clear each organization has its own branded portal
    if (isPortalRoute) {
        return (
            <ClientProvider>
                <Routes>
                    {/* Auth callback - org-agnostic */}
                    <Route path="/portal/auth/callback" element={<ClientAuthCallback />} />

                    {/* Organization-scoped routes */}
                    <Route path="/portal/:org/login" element={<ClientLogin />} />
                    <Route element={<ClientLayout />}>
                        <Route path="/portal/:org" element={<ClientDashboard />} />
                        <Route path="/portal/:org/projects" element={<ClientProjects />} />
                        <Route path="/portal/:org/project/:id" element={<ClientProjectDetail />} />
                        <Route path="/portal/:org/approvals" element={<ClientApprovals />} />
                        <Route path="/portal/:org/activity" element={<ClientActivity />} />
                        <Route path="/portal/:org/settings" element={<ClientDashboard />} />
                    </Route>

                    {/* Legacy/fallback routes */}
                    <Route path="/portal/login" element={<ClientLogin />} />
                    <Route path="/portal" element={<ClientLogin />} />
                </Routes>
            </ClientProvider>
        );
    }

    // Admin routes use their own AdminLayout (no main Layout wrapper)
    // Must wrap with UserProvider and PermissionProvider since they're outside Layout
    if (isAdminRoute) {
        return (
            <UserProvider>
                <PermissionProvider>
                    <Routes>
                        <Route path="/admin" element={<AdminLayout />}>
                            <Route index element={<PlatformAdminDashboard />} />
                            <Route path="settings" element={<PlatformAdminSettings />} />
                            <Route path="feature-flags" element={<PlatformAdminFeatureFlags />} />
                            <Route path="audit-logs" element={<PlatformAdminAuditLogs />} />
                            <Route path="users" element={<PlatformAdminUsers />} />
                            <Route path="organizations" element={<PlatformAdminOrganizations />} />
                            <Route path="marketplace" element={<PlatformAdminMarketplace />} />
                            <Route path="nests" element={<PlatformAdminNests />} />
                            <Route path="apps" element={<PlatformAdminApps />} />
                            <Route path="analytics" element={<PlatformAdminAnalytics />} />
                            <Route path="system" element={<PlatformAdminSystem />} />
                            <Route path="integrations" element={<PlatformAdminIntegrations />} />
                            <Route path="billing" element={<PlatformAdminBilling />} />
                            <Route path="content" element={<PlatformAdminContent />} />
                            <Route path="support" element={<PlatformAdminSupport />} />
                            <Route path="ai" element={<PlatformAdminAI />} />
                            <Route path="credits" element={<PlatformAdminCredits />} />
                            <Route path="growth-nests" element={<PlatformAdminGrowthNests />} />
                        </Route>
                    </Routes>
                </PermissionProvider>
            </UserProvider>
        );
    }

    return (
        <Layout currentPageName={currentPage}>
            <Routes>

                    <Route path="/" element={<Dashboard />} />
                
                
                <Route path="/AIAssistant" element={<AIAssistant />} />

                <Route path="/Sync" element={<AIAssistant />} />
                
                <Route path="/AISystemInventory" element={<AISystemInventory />} />

                <Route path="/AuthCallback" element={<AuthCallback />} />

                <Route path="/desktop-auth" element={<DesktopAuth />} />

                <Route path="/Login" element={<Login />} />

                <Route path="/Actions" element={<Actions />} />

                <Route path="/ActivityTimeline" element={<ActivityTimeline />} />
                
                <Route path="/AdminDashboard" element={<AdminDashboard />} />
                
                <Route path="/AdminMigration" element={<AdminMigration />} />
                
                <Route path="/Analytics" element={<Analytics />} />
                
                <Route path="/AnalyticsDashboard" element={<AnalyticsDashboard />} />
                
                <Route path="/Assignments" element={<Assignments />} />
                
                <Route path="/BackendSetup" element={<BackendSetup />} />
                
                <Route path="/BackendStatus" element={<BackendStatus />} />
                
                <Route path="/CRMContacts" element={<CRMContacts />} />

                <Route path="/CRMCompanyProfile" element={<CRMCompanyProfile />} />

                <Route path="/CRMContactProfile" element={<CRMContactProfile />} />

                <Route path="/Certificates" element={<Certificates />} />
                
                <Route path="/CompanyDashboard" element={<CompanyDashboard />} />
                
                <Route path="/CompanyInvite" element={<CompanyInvite />} />
                
                <Route path="/CompanyProfile" element={<CompanyProfile />} />
                
                <Route path="/ComplianceCenter" element={<ComplianceCenter />} />
                
                <Route path="/ComplianceRoadmap" element={<ComplianceRoadmap />} />
                
                <Route path="/ComponentShowcase" element={<ComponentShowcase />} />

                <Route path="/ComposioIntegrations" element={<Navigate to="/Integrations" replace />} />
                <Route path="/settings/integrations" element={<Navigate to="/Integrations" replace />} />

                <Route path="/Contacts" element={<Contacts />} />
                
                <Route path="/CourseDetail" element={<CourseDetail />} />
                
                <Route path="/CourseUpgrader" element={<CourseUpgrader />} />
                
                <Route path="/Courses" element={<Courses />} />
                
                <Route path="/Dashboard" element={<Dashboard />} />
                
                <Route path="/Deals" element={<Navigate to="/GrowthPipeline" replace />} />
                
                <Route path="/DocumentGenerator" element={<DocumentGenerator />} />

                <Route path="/DesktopActivity" element={<DesktopActivity />} />

                <Route path="/DailyJournal" element={<DailyJournal />} />

                <Route path="/DownloadApp" element={<DownloadApp />} />
                
                <Route path="/Glossary" element={<Glossary />} />
                
                <Route path="/Growth" element={<Growth />} />
                
                <Route path="/GrowthAssistant" element={<GrowthAssistant />} />
                
                <Route path="/GrowthCampaigns" element={<GrowthCampaigns />} />
                <Route path="/growth/campaigns" element={<GrowthCampaigns />} />

                <Route path="/GrowthPipeline" element={<GrowthPipeline />} />
                
                <Route path="/GrowthProspects" element={<GrowthProspects />} />

                <Route path="/FinanceProposals" element={<FinanceProposals />} />

                <Route path="/FinanceProposalBuilder" element={<FinanceProposalBuilder />} />

                <Route path="/GrowthResearch" element={<GrowthResearch />} />
                
                <Route path="/GrowthSignals" element={<GrowthSignals />} />
                
                <Route path="/GrowthTemplates" element={<GrowthTemplates />} />

                <Route path="/GrowthNestsMarketplace" element={<GrowthNestsMarketplace />} />

                <Route path="/GrowthEnrich" element={<GrowthEnrich />} />

                <Route path="/GrowthDashboard" element={<GrowthDashboard />} />
                <Route path="/growth/dashboard" element={<GrowthDashboard />} />

                <Route path="/GrowthCampaignWizard" element={<GrowthCampaignWizard />} />
                <Route path="/growth/campaign/new" element={<GrowthCampaignWizard />} />

                <Route path="/GrowthNestRecommendations" element={<GrowthNestRecommendations />} />
                <Route path="/growth/nests" element={<GrowthNestRecommendations />} />

                <Route path="/GrowthWorkspaceSetup" element={<GrowthWorkspaceSetup />} />
                <Route path="/growth/workspace/setup" element={<GrowthWorkspaceSetup />} />

                <Route path="/GrowthResearchWorkspace/:workspaceId" element={<GrowthResearchWorkspace />} />
                <Route path="/growth/research/:workspaceId" element={<GrowthResearchWorkspace />} />
                <Route path="/growth/research" element={<GrowthResearchWorkspace />} />

                <Route path="/GrowthOutreachBuilder" element={<GrowthOutreachBuilder />} />
                <Route path="/GrowthOutreachBuilder/:workspaceId" element={<GrowthOutreachBuilder />} />
                <Route path="/growth/outreach/new" element={<GrowthOutreachBuilder />} />
                <Route path="/growth/outreach/:workspaceId" element={<GrowthOutreachBuilder />} />

                <Route path="/GrowthCustomerSignals" element={<GrowthCustomerSignals />} />
                <Route path="/growth/signals" element={<GrowthCustomerSignals />} />
                <Route path="/growth/customers" element={<GrowthCustomerSignals />} />

                <Route path="/Home" element={<Home />} />
                
                <Route path="/Inbox" element={<Inbox />} />
                
                <Route path="/Insights" element={<Insights />} />
                
                <Route path="/Leaderboard" element={<Leaderboard />} />
                
                <Route path="/Leads" element={<Leads />} />
                
                <Route path="/Learn" element={<Learn />} />
                
                <Route path="/LearnAITools" element={<LearnAITools />} />

                <Route path="/LearnAssistant" element={<LearnAssistant />} />

                <Route path="/LearnDashboard" element={<LearnDashboard />} />
                
                <Route path="/LessonViewer" element={<LessonViewer />} />

                {/* Marketplace Routes */}
                <Route path="/marketplace/nests" element={<NestsMarketplace />} />
                <Route path="/marketplace/nests/purchased" element={<PurchasedNests />} />
                <Route path="/marketplace/nests/:nestId" element={<NestDetail />} />
                
                <Route path="/ManageCourses" element={<ManageCourses />} />
                
                <Route path="/ManagerDashboard" element={<ManagerDashboard />} />
                
                <Route path="/Onboarding" element={<Onboarding />} />
                
                <Route path="/Projects" element={<Projects />} />
                
                <Route path="/RecommendationsFeed" element={<RecommendationsFeed />} />
                
                <Route path="/RiskAssessment" element={<RiskAssessment />} />
                
                <Route path="/Sentinel" element={<Sentinel />} />
                
                <Route path="/SentinelDashboard" element={<SentinelDashboard />} />
                
                <Route path="/Sequences" element={<Sequences />} />
                
                <Route path="/Settings" element={<Settings />} />

                <Route path="/SkillFrameworks" element={<SkillFrameworks />} />
                
                <Route path="/SkillMap" element={<SkillMap />} />
                
                <Route path="/SkillsOverview" element={<SkillsOverview />} />
                
                <Route path="/StudentDashboard" element={<StudentDashboard />} />
                
                <Route path="/Support" element={<Support />} />
                
                <Route path="/SystemWorkflow" element={<SystemWorkflow />} />
                
                <Route path="/Tasks" element={<Tasks />} />
                
                <Route path="/Templates" element={<Templates />} />
                
                <Route path="/UserAnalytics" element={<UserAnalytics />} />
                
                <Route path="/VerifyCertificate" element={<VerifyCertificate />} />
                
                <Route path="/VisionTest" element={<VisionTest />} />
                
                <Route path="/WorkflowEditor" element={<WorkflowEditor />} />
                
                <Route path="/MCPIntegrations" element={<Navigate to="/Integrations" replace />} />
                
                <Route path="/OAuthCallback" element={<OAuthCallback />} />

                <Route path="/Finance" element={<Finance />} />

                <Route path="/FinanceOverview" element={<FinanceOverview />} />

                <Route path="/FinanceDashboard" element={<FinanceDashboard />} />

                <Route path="/FinanceInvoices" element={<FinanceInvoices />} />

                <Route path="/FinanceExpenses" element={<FinanceExpenses />} />
                <Route path="/FinanceExpensesConsolidated" element={<FinanceExpensesConsolidated />} />

                <Route path="/FinanceSubscriptions" element={<FinanceSubscriptions />} />

                <Route path="/FinanceAccounts" element={<FinanceAccounts />} />

                <Route path="/FinanceJournalEntries" element={<FinanceJournalEntries />} />

                <Route path="/FinanceGeneralLedger" element={<FinanceGeneralLedger />} />
                <Route path="/FinanceLedger" element={<FinanceLedger />} />

                <Route path="/FinanceVendors" element={<FinanceVendors />} />

                <Route path="/FinanceBills" element={<FinanceBills />} />

                <Route path="/FinanceBillPayments" element={<FinanceBillPayments />} />
                <Route path="/FinancePayables" element={<FinancePayables />} />

                <Route path="/FinanceReportPL" element={<FinanceReportPL />} />

                <Route path="/FinanceReportBS" element={<FinanceReportBS />} />

                <Route path="/FinanceReportTB" element={<FinanceReportTB />} />

                <Route path="/FinanceReportAging" element={<FinanceReportAging />} />
                <Route path="/FinanceReports" element={<FinanceReports />} />

                <Route path="/Raise" element={<Raise />} />

                <Route path="/RaiseInvestors" element={<RaiseInvestors />} />

                <Route path="/RaisePitchDecks" element={<RaisePitchDecks />} />

                <Route path="/RaiseDataRoom" element={<RaiseDataRoom />} />

                <Route path="/RaiseCampaigns" element={<RaiseCampaigns />} />
                <Route path="/RaiseEnrich" element={<RaiseEnrich />} />

                <Route path="/TeamManagement" element={<TeamManagement />} />

                <Route path="/AgentDetail" element={<AgentDetail />} />

                <Route path="/Products" element={<Products />} />

                <Route path="/ProductsDigital" element={<ProductsDigital />} />

                <Route path="/ProductsPhysical" element={<ProductsPhysical />} />

                <Route path="/ProductDetail" element={<ProductDetail />} />

                <Route path="/Create" element={<Create />} />

                <Route path="/CreateBranding" element={<CreateBranding />} />

                <Route path="/CreateImages" element={<CreateImages />} />

                <Route path="/CreateVideos" element={<CreateVideos />} />

                <Route path="/CreateLibrary" element={<CreateLibrary />} />

                <Route path="/InventoryReceiving" element={<InventoryReceiving />} />

                <Route path="/InventoryShipping" element={<InventoryShipping />} />

                <Route path="/StockPurchases" element={<StockPurchases />} />

                <Route path="/SyncAgent" element={<SyncAgent />} />

                <Route path="/InventoryExpenses" element={<Navigate to="/StockPurchases" replace />} />

                <Route path="/InventoryImport" element={<InventoryImport />} />

                <Route path="/ContactsImport" element={<ContactsImport />} />

                <Route path="/Integrations" element={<Integrations />} />

                <Route path="/TalentDashboard" element={<TalentDashboard />} />

                <Route path="/TalentClients" element={<TalentClients />} />

                <Route path="/TalentDeals" element={<TalentDeals />} />

                <Route path="/TalentCandidates" element={<TalentCandidates />} />

                {/* Redirect /candidates to /TalentCandidates for convenience */}
                <Route path="/candidates" element={<Navigate to="/TalentCandidates" replace />} />

                <Route path="/TalentCandidateProfile" element={<TalentCandidateProfile />} />

                <Route path="/TalentCampaigns" element={<TalentCampaigns />} />

                {/* Lowercase alias for talent campaigns */}
                <Route path="/talentcampaigns" element={<Navigate to="/TalentCampaigns" replace />} />

                <Route path="/TalentCampaignDetail" element={<TalentCampaignDetail />} />

                <Route path="/TalentProjects" element={<TalentProjects />} />

                {/* Redirect /projects to /TalentProjects for Talent context */}
                <Route path="/talentprojects" element={<Navigate to="/TalentProjects" replace />} />

                {/* Redirect /roles - roles are managed within projects */}
                <Route path="/roles" element={<Navigate to="/TalentProjects" replace />} />

                <Route path="/TalentAnalytics" element={<Navigate to="/TalentDashboard" replace />} />

                <Route path="/TalentNests" element={<TalentNests />} />

                <Route path="/TalentNestDetail" element={<TalentNestDetail />} />

                <Route path="/TalentSMSOutreach" element={<TalentSMSOutreach />} />

                {/* 404 catch-all route */}
                <Route path="*" element={
                  <div className="min-h-screen flex items-center justify-center" style={{ background: 'var(--bg)' }}>
                    <div className="text-center">
                      <h1 className="text-4xl font-bold mb-4" style={{ color: 'var(--txt)' }}>404</h1>
                      <p style={{ color: 'var(--muted)' }}>Page not found</p>
                    </div>
                  </div>
                } />

            </Routes>
        </Layout>
    );
}

export default function Pages() {
    return (
        <Router>
            <PagesContent />
        </Router>
    );
}